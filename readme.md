# 마비노기 데미지 미터

실시간으로 전투 데이터를 수집하고 분석하는 WebSocket 기반 데미지 미터입니다.

## 실행 환경

- Windows 환경
- **Npcap** 설치 필수 ([다운로드](https://npcap.com/#download))
- ⚠️ **주의**: 일부 게임은 Npcap 실행을 감지하여 제재할 수 있으므로 주의가 필요합니다.

## 실행 방법

1. **main.exe를 관리자 권한으로 실행**
   - 우클릭 → "관리자 권한으로 실행"
   - 패킷 캡처를 위해 관리자 권한이 필요합니다

2. 브라우저에서 `index.html` 열기

3. 연결 상태 확인
   - 상단에 "연결됨"이 표시되면 정상 작동
   - WebSocket은 자동으로 `ws://localhost:8080`에 연결됩니다

## UI 구성

### 상단 정보 영역
- **전투시간**: 현재 전투 진행 시간
- **연결상태**: WebSocket 연결 상태 표시
- **총 데미지**: 누적 데미지 합계
- **전체 DPS**: 초당 평균 데미지

### 실시간 차트
- DPS 변화를 실시간으로 표시
- 마우스 휠로 줌 인/아웃
- 드래그로 차트 이동
- 과거 시간대 데이터 확인 가능

### 데미지 순위
- 플레이어별 데미지 순위 표시
- 직업 아이콘과 함께 표시
- 클릭하여 상세 정보 확인

### 상세 정보 모달
- **스킬별 데미지**: 각 스킬의 데미지 비율과 상세 수치
- **버프 가동률**: 전투 중 버프 사용 통계
- **상세 통계**: 크리티컬률, 평균 데미지 등

## 설정 기능

### 테마 선택
- **Cyberpunk** (기본): 네온 퍼플 테마
- **Synthwave**: 레트로 웨이브 스타일
- **Matrix**: 매트릭스 그린 테마
- **Soft Dark**: 부드러운 다크 테마
- **Minimal**: 미니멀 블랙 테마

### 보기 모드
- **카드형**: 플레이어 정보를 카드 형태로 표시
- **리스트형**: 간결한 리스트 형태로 표시

### 기능 설정
- **차트 표시**: 실시간 DPS 차트 켜기/끄기
- **애니메이션**: UI 애니메이션 효과
- **자동 초기화 알림**: 1분간 데이터 없을 시 초기화 확인
- **자동 내보내기**: 전투 종료 시 데이터 자동 저장

## 주요 기능

- 실시간 데미지 측정 및 DPS 계산
- 다중 플레이어 동시 측정
- 스킬별 상세 데미지 분석
- 버프 가동률 및 효율 분석
- 데이터 내보내기 (JSON/CSV 형식)
- 전투 기록 저장 및 불러오기

## 버튼 기능

- **초기화** (🗑️): 모든 측정 데이터 초기화
- **내보내기** (💾): 현재 데이터를 파일로 저장
- **설정** (⚙️): 테마 및 각종 옵션 변경

## 문제 해결

### 연결 상태가 "연결 안됨"인 경우
- main.exe가 실행 중인지 확인
- 방화벽에서 main.exe를 허용했는지 확인
- 포트 8080이 다른 프로그램에서 사용 중인지 확인

### 데이터가 수집되지 않는 경우
- main.exe를 관리자 권한으로 실행했는지 확인
- Npcap이 정상적으로 설치되었는지 확인
- 게임이 실행 중인지 확인

### 차트가 표시되지 않는 경우
- 설정에서 "차트 표시"가 켜져 있는지 확인
- 브라우저 콘솔(F12)에서 오류 확인