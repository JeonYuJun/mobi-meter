# 🐱 Mobi-Meter (마비노기 데미지 미터)

마비노기 MMORPG용 실시간 전투 데이터 분석 도구입니다. 파티원들의 데미지를 실시간으로 측정하고 다양한 통계를 제공합니다.

![Version](https://img.shields.io/badge/version-1.2.5-blue)
![Platform](https://img.shields.io/badge/platform-Windows-lightgrey)

## 📋 실행 환경

- Windows 10/11
- **Npcap** 설치 필수 ([다운로드](https://npcap.com/#download))
- ⚠️ **관리자 권한**으로 실행 필요

## 🚀 실행 방법

1. **mobi-meter-1.2.5.exe** 파일 실행
2. 관리자 권한 요청 시 '예' 선택
3. 브라우저가 자동으로 열립니다
4. 게임 실행 후 자동으로 데이터 수집 시작

## 🎮 주요 기능

### 상단 메뉴

#### 연결 상태
- 🟢 녹색: 정상 연결
- 🔴 빨간색: 연결 끊김
- 클릭하여 재연결 가능

#### 초기화
모든 전투 데이터를 초기화합니다.

#### 데이터 메뉴
- **데이터 저장**: 현재 전투 기록을 JSON 파일로 저장
- **데이터 불러오기**: 저장된 전투 기록 불러오기
- **이미지 저장**: 현재 화면을 PNG 이미지로 다운로드
- **이미지 캡처**: 현재 화면을 클립보드에 복사

#### 계산 모드
- **모두**: 모든 적 대상 데미지 합산
- **최대 HP**: HP가 가장 높은 적 대상만
- **딜 집중**: 가장 많이 공격받은 적 대상만

#### 허수아비 모드
단일 대상 분석에 최적화된 모드

### 📊 실시간 DPS 차트

- **표시 인원**: 5명, 8명, 10명, 12명, 15명 중 선택
- **조작 방법**:
  - 🖱️ **마우스 휠**: 확대/축소
  - 🖱️ **드래그**: 특정 구간 확대
  - 🖱️ **더블클릭**: 줌 초기화
- **차트 요소**:
  - 각 플레이어별 DPS 추이선
  - 평균 DPS 점선
  - 최고점 마커 표시
  - 본인은 초록색으로 강조

### 📈 플레이어 통계

#### 표시 정보
- **순위**: 1위 🥇, 2위 🥈, 3위 🥉 색상 구분
- **DPS**: 초당 데미지
- **총 데미지**: 누적 데미지
- **점유율**: 전체 대비 비율
- **크리티컬**: 치명타 확률
- **추가타**: 추가 공격 확률
- **공증/피증**: 평균 공격력/피해 증가율

#### 뷰 모드
- **카드형**: 상위 3명 카드 + 나머지 리스트
- **리스트형**: 전체 간결한 표 형식

### 🔍 상세 정보 (플레이어 더블클릭)

#### 요약 정보
- 총 데미지, DPS, 점유율
- 크리티컬, 추가타, 공증/피증 통계

#### 개인 DPS 그래프
전투 시간 동안의 개인 DPS 추이

#### 버프 가동률
- **필터**: 전체/룬/스킬/시너지/적/펫
- 각 버프의 가동률과 최대 스택 표시

#### 스킬별 분석
- 스킬별 데미지 순위
- 각 스킬의 크리티컬, 추가타 확률
- 클릭 시 일반/도트/특수 데미지 상세

#### 내보내기
- 이미지 다운로드
- 클립보드 복사

## ⚙️ 설정

### 실시간 차트 표시
DPS 추이 그래프 표시/숨김

### 애니메이션 효과
UI 애니메이션 켜기/끄기

### 자동 초기화
- 설정 시간 동안 데이터 없으면 자동 초기화
- 30~180초 범위 설정 가능
- 초기화 시 토스트 알림 표시

### 다크 모드
라이트/다크 테마 전환

### 뷰 모드
카드형/리스트형 레이아웃 선택

## 💡 사용 팁

### 효과적인 분석
1. 레이드 시작 전 **초기화** 버튼으로 데이터 리셋
2. 보스전 후 **데이터 저장**으로 기록 보관
3. **계산 모드**를 보스 유형에 맞게 설정
4. 차트에서 특정 구간 드래그로 상세 분석

### 데이터 관리
- 저장된 데이터는 나중에 다시 불러와서 분석 가능
- 차트 데이터와 런타임까지 완벽 복원
- 이미지 캡처로 디스코드 등에 빠르게 공유

## 🔧 문제 해결

### exe 실행 시 오류
1. Npcap이 설치되어 있는지 확인
2. Windows Defender에서 차단하는지 확인
3. 관리자 권한으로 실행했는지 확인

### 연결 상태가 "연결 끊김"
1. 연결 버튼 클릭하여 재연결 시도
2. 브라우저 새로고침 (F5)
3. 프로그램 재시작

### 데이터가 수집되지 않음
1. 게임이 실행 중인지 확인
2. 전투 중인지 확인
3. 방화벽 설정 확인

### 차트가 표시되지 않음
1. 설정에서 "실시간 차트 표시" 활성화 확인
2. 브라우저 캐시 삭제 후 새로고침

## ⚠️ 주의사항

- 이 프로그램은 **교육 및 개인 분석 목적**으로 제작되었습니다
- 게임 이용약관을 확인하고 사용하시기 바랍니다
- Npcap 실행을 감지하는 게임에서는 사용에 주의가 필요합니다
- 관리자 권한 없이는 패킷 캡처가 불가능합니다

## 📝 버전 히스토리

### v1.2.5 (최신)
- Chart.js 오류 수정 및 안정성 개선
- 데이터 저장/불러오기 완전성 향상
- UI 일관성 개선 (드롭다운 메뉴 통일)
- 스크린샷 색상 문제 해결
- 자동 초기화 알림 추가

### v1.2.0
- 실시간 DPS 차트 추가
- 버프 가동률 분석 기능
- 스킬별 상세 통계
- 다크 모드 지원

---

💬 문의 및 버그 리포트: [GitHub Issues](https://github.com/JeonYuJun/mobi-meter/issues)